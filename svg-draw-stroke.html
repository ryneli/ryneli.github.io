<!DOCTYPE html>
<html>

<body>

<svg id="canvas" height="500" width="500" style="background-color:aliceblue">
  Sorry, your browser does not support inline SVG.  
</svg> 
 
<script>
    let canvas = document.getElementById("canvas");
    let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    let d = '';

    function initPath() {
        path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        path.setAttribute('stroke', 'black');
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke-width', '3');
        d = '';
    }

    function startStroke(x, y) {
        initPath()
        d = `M ${x} ${y}`;
        canvas.append(path);
    }

    function updateStroke(x, y) {
        if (d.startsWith('M')) {
            d = `${d} L ${x} ${y}`;
            path.setAttribute('d', `${d}`);
        }
    }

    function endStroke(x, y) {
        initPath();
    }
    
    canvas.addEventListener("mousedown", (e) => {
        startStroke(e.offsetX, e.offsetY);
        e.preventDefault();
    });
    canvas.addEventListener("mousemove", (e) => {
        updateStroke(e.offsetX, e.offsetY);
        e.preventDefault();
    });
    canvas.addEventListener("mouseup", (e) => {
        endStroke(e.offsetX, e.offsetY);
        e.preventDefault();
    });
    canvas.addEventListener("touchstart", (e) => {
        startStroke(e.touches[0].clientX, e.touches[0].clientY);
        e.preventDefault();
    });
    canvas.addEventListener("touchmove", (e) => {
        updateStroke(e.touches[0].clientX, e.touches[0].clientY);
        e.preventDefault();
    });
    canvas.addEventListener("touchend", (e) => {
        endStroke(e.touches[0].clientX, e.touches[0].clientY);
        e.preventDefault();
    });
    canvas.addEventListener("pointerdown", (e) => {
        startStroke(e.offsetX, e.offsetY);
        e.preventDefault();
    });
    canvas.addEventListener("pointermove", (e) => {
        updateStroke(e.offsetX, e.offsetY);
        e.preventDefault();
    });
    canvas.addEventListener("pointerup", (e) => {
        endStroke(e.offsetX, e.offsetY);
        e.preventDefault();
    });
</script>
</body>
</html>